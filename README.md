# Readme

## Как пользоваться?

Ссылка на бота: [https://t.me/SovkomStrahBot](https://t.me/SovkomStrahBot)

Для начала работы с сервисами клиента, нажмите /start

Для начала работы с сервисами страховщика/админа, нажмите /start_admin

## Содержание

- [Доступ к БД и фото](https://www.notion.so/Readme-a3eb16d9972d4d4a8e0dd4188918d547?pvs=21)
    - [Доступ к БД](https://www.notion.so/Readme-a3eb16d9972d4d4a8e0dd4188918d547?pvs=21)
    - [Доступ к фото](https://www.notion.so/Readme-a3eb16d9972d4d4a8e0dd4188918d547?pvs=21)
- [Тестовый успешный путь](https://www.notion.so/Readme-a3eb16d9972d4d4a8e0dd4188918d547?pvs=21) клиента
- [Схема БД](https://www.notion.so/Readme-a3eb16d9972d4d4a8e0dd4188918d547?pvs=21)
- [Схема сервисов Клиент/Админ](https://www.notion.so/Readme-a3eb16d9972d4d4a8e0dd4188918d547?pvs=21)

## Доступ к БД и фото

### Доступ к БД

Для того чтобы получить доступ к БД скачайте DBeaver ([Download | DBeaver Community](https://dbeaver.io/download/))

Затем выберите Database → New Database Connection

![Untitled](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/Untitled.png)

Выберите PostgreSQL 

![Untitled](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/Untitled%201.png)

Введите данные для подключения:

- **Host:** 188.227.14.220
- **Port:** 5432
- **Database:** postgres
- **Username:** casaos
- **Password:** casaos

![Untitled](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/Untitled%202.png)

### Доступ к фото

http://fintech-itmo.sytes.net:81/share/IfB2-Rws ссылка для просмотра изображений

http://fintech-itmo.sytes.net:81/share/LEJqkAbn ссылка для прсмотра фотографи проверенных на photoshop

## Тестовый успешный путь для клиента

Примеры тестовых фото:

[test_bot_photo · main · adventure-league-spb / cnrprod-team-60620 / adventure-league-k2 · GitLab (codenrock.com)](https://git.codenrock.com/adventure-league-spb/cnrprod-team-60620/adventure-league-k2/-/tree/main/test_bot_photo?ref_type=heads)

| Бот | Тестовый правильный вариант ответа |
| --- | --- |
|  | /start |
| Добро пожаловать!
Здесь вы можете создать новую заявку на осмотр, просмотреть историю всех заявок или вернутся к ранее незаконченным. |  |
|  | Новая заявка |
| Выберите объект страхования |  |
|  | Автомобиль |
| Ваша заявка зарегистрирована под номером №77 |  |
|  | Далее |
| Введите марку автомобиля |  |
|  | Toyota |
| Введите VIN номер автомобиля |  |
|  | JS3TD62V1Y4107898 (J S3TDS2V1Y 4107898) |
| Если есть информация, об авто, которую вы хотите нам сообщить, сообщите об этом здесь! |  |
|  | нет, дополнительной информации об авто пока у меня нет |
| Данные вашего авто:
Модель: Toyota
Номер: J S3TDS2V1Y 4107898
Описание: нет, дополнительной информации об авто пока у меня нет |  |
|  | Далее |
| Давайте начнем осмотр объекта!
Пожалуйста убедитесь, что предоставляемые вами материалы соответствуют требованиям качества и безопасности. |  |
|  | Начать осмотр |
| Начнем осмотр вашего авто. Загрузите фото номера автомобиля |  |

![Untitled](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/Untitled%203.png)

| Ожидайте, идет проверка указанного VIN номера автомобиля… |  |
| --- | --- |
| (Нейронка с идентификацией номера) → Сравнение введённого и полученного номера |  |
| Проверка пройдена → Либо откат к пу |  |
| Номер проверен |  |
|  | Далее |
| Вам нужно загрузить фото вашего автомобиля с 8 разных ракурсов. Сделайте фотографии по направлениям, указанным на схеме, и загрузите их в соответствующем порядке. |  |

Загрузите фото с ракурса 1

![car_1.jpg](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/car_1.jpg)

Загрузите фото с ракурса 2

![Untitled](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/Untitled%204.png)

Загрузите фото с ракурса 3

![Untitled](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/Untitled%205.png)

Загрузите фото с ракурса 4

![car_4.jpg](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/car_4.jpg)

Загрузите фото с ракурса 5

![car_5.jpg](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/car_5.jpg)

Загрузите фото с ракурса 6

![car_6.jpg](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/car_6.jpg)

Загрузите фото с ракурса 7

![car_7.jpg](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/car_7.jpg)

Загрузите фото с ракурса 8

![car_8.jpg](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/car_8.jpg)

| Фото на проверке. ожидайте не более 1 минуты |  |
| --- | --- |
| Фото соответствуют требованиям. По окончанию осмотра они уйдут на проверку к страховщику. |  |
|  | Далее |

Сделайте фото лобового стекла

![Untitled](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/Untitled%206.png)

| Отлично. После нажатия кнопки "Далее" ваши материалы отправятся на проверку |  |
| --- | --- |
|  | Далее |
| Ожидайте, ваши материалы подготавливаются к отправке страховщику. Это может занять какое-то время… |  |
| (длительная проверка на фотошоп от 15 минут [делайте скидку что всё работает на raspberry pi]) |  |
| Все ваши материалы ушли на проверку. Через некоторое время статус вашей заявки обновится и вам придет сообщение об этом. В случае, если заявка будет одобрена, вы получите на подписание акт осмотра в формате pdf.
Наблюдать за статусами заявок вы можете в разделе "Текущие заявки" в личном кабинете.Чтобы вернуться в личный кабинет, напишите "/start” |  |

**End**

## Схема БД

![Untitled](Readme%20a3eb16d9972d4d4a8e0dd4188918d547/Untitled%207.png)

## Схема сервисов Клиент/Админ

Ссылка на схему в drawio: [https://app.diagrams.net/#G10MuxBPANRWN2-O7j9KFVB_1tAQtsfhhs](https://app.diagrams.net/#G10MuxBPANRWN2-O7j9KFVB_1tAQtsfhhs)